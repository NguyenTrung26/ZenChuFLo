# BÃO CÃO Äá»’ ÃN CUá»I Ká»²
## MÃ”N: á»¨NG Dá»¤NG ÄA Ná»€N Táº¢NG

---

**Äá»€ TÃ€I:** á»¨NG Dá»¤NG YOGA & MEDITATION

**Sinh viÃªn thá»±c hiá»‡n:** [Há» vÃ  tÃªn]  
**MSSV:** [MÃ£ sá»‘ sinh viÃªn]  
**Lá»›p:** [Lá»›p há»c pháº§n]  
**Giáº£ng viÃªn hÆ°á»›ng dáº«n:** [TÃªn giáº£ng viÃªn]

**Thá»i gian thá»±c hiá»‡n:** [Thá»i gian]  
**NgÃ y ná»™p:** 25/11/2025

---

## Má»¤C Lá»¤C

1. [GIá»šI THIá»†U](#chÆ°Æ¡ng-1-giá»›i-thiá»‡u)
2. [CÆ  Sá» LÃ THUYáº¾T](#chÆ°Æ¡ng-2-cÆ¡-sá»Ÿ-lÃ½-thuyáº¿t)
3. [PHÃ‚N TÃCH & THIáº¾T Káº¾](#chÆ°Æ¡ng-3-phÃ¢n-tÃ­ch--thiáº¿t-káº¿)
4. [TRIá»‚N KHAI](#chÆ°Æ¡ng-4-triá»ƒn-khai)
5. [TESTING & ÄÃNH GIÃ](#chÆ°Æ¡ng-5-testing--Ä‘Ã¡nh-giÃ¡)
6. [Káº¾T LUáº¬N](#chÆ°Æ¡ng-6-káº¿t-luáº­n)
7. [TÃ€I LIá»†U THAM KHáº¢O](#tÃ i-liá»‡u-tham-kháº£o)
8. [PHá»¤ Lá»¤C](#phá»¥-lá»¥c)

---

# CHÆ¯Æ NG 1: GIá»šI THIá»†U

## 1.1. Äáº·t váº¥n Ä‘á»

Trong thá»i Ä‘áº¡i hiá»‡n Ä‘áº¡i, cuá»™c sá»‘ng báº­n rá»™n vÃ  Ã¡p lá»±c cÃ´ng viá»‡c ngÃ y cÃ ng tÄƒng cao Ä‘Ã£ áº£nh hÆ°á»Ÿng nghiÃªm trá»ng Ä‘áº¿n sá»©c khá»e thá»ƒ cháº¥t vÃ  tinh tháº§n cá»§a con ngÆ°á»i. Theo nghiÃªn cá»©u cá»§a Tá»• chá»©c Y táº¿ Tháº¿ giá»›i (WHO), stress vÃ  lo Ã¢u Ä‘ang trá»Ÿ thÃ nh váº¥n Ä‘á» sá»©c khá»e toÃ n cáº§u. Yoga vÃ  thiá»n Ä‘á»‹nh Ä‘Æ°á»£c chá»©ng minh lÃ  nhá»¯ng phÆ°Æ¡ng phÃ¡p hiá»‡u quáº£ Ä‘á»ƒ cáº£i thiá»‡n sá»©c khá»e, giáº£m stress vÃ  nÃ¢ng cao cháº¥t lÆ°á»£ng cuá»™c sá»‘ng.

Tuy nhiÃªn, viá»‡c tiáº¿p cáº­n cÃ¡c lá»›p há»c yoga truyá»n thá»‘ng gáº·p nhiá»u khÃ³ khÄƒn:
- **Thá»i gian:** KhÃ´ng phÃ¹ há»£p vá»›i lá»‹ch trÃ¬nh báº­n rá»™n
- **Chi phÃ­:** Há»c phÃ­ cao, khÃ´ng pháº£i ai cÅ©ng cÃ³ kháº£ nÄƒng chi tráº£
- **Äá»‹a Ä‘iá»ƒm:** Háº¡n cháº¿ vá» máº·t Ä‘á»‹a lÃ½, Ä‘áº·c biá»‡t á»Ÿ vÃ¹ng xa
- **CÃ¡ nhÃ¢n hÃ³a:** Thiáº¿u chÆ°Æ¡ng trÃ¬nh táº­p luyá»‡n phÃ¹ há»£p vá»›i tá»«ng cÃ¡ nhÃ¢n

Tá»« nhá»¯ng váº¥n Ä‘á» trÃªn, viá»‡c phÃ¡t triá»ƒn má»™t á»©ng dá»¥ng di Ä‘á»™ng vá» Yoga vÃ  Thiá»n Ä‘á»‹nh lÃ  cáº§n thiáº¿t, giÃºp ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ táº­p luyá»‡n má»i lÃºc, má»i nÆ¡i vá»›i chi phÃ­ há»£p lÃ½ vÃ  chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c cÃ¡ nhÃ¢n hÃ³a theo nhu cáº§u.

## 1.2. Má»¥c tiÃªu Ä‘á»“ Ã¡n

### 1.2.1. Má»¥c tiÃªu chung
XÃ¢y dá»±ng á»©ng dá»¥ng di Ä‘á»™ng Ä‘a ná»n táº£ng (Android/iOS) vá» Yoga vÃ  Thiá»n Ä‘á»‹nh, cung cáº¥p tráº£i nghiá»‡m táº­p luyá»‡n toÃ n diá»‡n, cÃ¡ nhÃ¢n hÃ³a vÃ  dá»… tiáº¿p cáº­n cho má»i Ä‘á»‘i tÆ°á»£ng ngÆ°á»i dÃ¹ng.

### 1.2.2. Má»¥c tiÃªu cá»¥ thá»ƒ
- NghiÃªn cá»©u vÃ  Ã¡p dá»¥ng cÃ´ng nghá»‡ React Native Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng Ä‘a ná»n táº£ng
- Thiáº¿t káº¿ giao diá»‡n ngÆ°á»i dÃ¹ng thÃ¢n thiá»‡n, trá»±c quan vÃ  háº¥p dáº«n
- TÃ­ch há»£p Firebase Ä‘á»ƒ quáº£n lÃ½ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vÃ  lÆ°u trá»¯ dá»¯ liá»‡u
- XÃ¢y dá»±ng há»‡ thá»‘ng gá»£i Ã½ bÃ i táº­p cÃ¡ nhÃ¢n hÃ³a sá»­ dá»¥ng AI (Google Generative AI)
- Triá»ƒn khai cÃ¡c tÃ­nh nÄƒng theo dÃµi tiáº¿n Ä‘á»™, nháº¯c nhá»Ÿ vÃ  thá»‘ng kÃª
- Äáº£m báº£o hiá»‡u nÄƒng á»©ng dá»¥ng mÆ°á»£t mÃ  vÃ  tá»‘i Æ°u tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng

## 1.3. Pháº¡m vi Ä‘á»“ Ã¡n

### 1.3.1. Pháº¡m vi thá»±c hiá»‡n
- **Ná»n táº£ng:** Android (chÃ­nh), iOS (há»— trá»£)
- **CÃ´ng nghá»‡:** React Native, Expo, TypeScript, Firebase
- **Chá»©c nÄƒng chÃ­nh:**
  - XÃ¡c thá»±c ngÆ°á»i dÃ¹ng (Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p)
  - Onboarding (chá»n má»¥c tiÃªu, trÃ¬nh Ä‘á»™, thá»i lÆ°á»£ng)
  - Danh sÃ¡ch bÃ i táº­p Yoga/Thiá»n vá»›i video hÆ°á»›ng dáº«n
  - Bá»™ Ä‘áº¿m thá»i gian thiá»n Ä‘á»‹nh
  - HÆ°á»›ng dáº«n hÃ´ háº¥p (Breathing exercises)
  - Ã‚m thanh thiÃªn nhiÃªn (Soundscapes)
  - Nháº­t kÃ½ tÃ¢m tráº¡ng (Mood Journal)
  - Káº¿ hoáº¡ch táº­p luyá»‡n cÃ¡ nhÃ¢n hÃ³a báº±ng AI
  - Theo dÃµi tiáº¿n Ä‘á»™ vÃ  thá»‘ng kÃª
  - Quáº£n lÃ½ há»“ sÆ¡ ngÆ°á»i dÃ¹ng

### 1.3.2. Giá»›i háº¡n
- á»¨ng dá»¥ng chÆ°a há»— trá»£ cháº¿ Ä‘á»™ offline hoÃ n toÃ n
- ChÆ°a tÃ­ch há»£p thanh toÃ¡n cho phiÃªn báº£n premium
- ChÆ°a cÃ³ tÃ­nh nÄƒng livestream hoáº·c lá»›p há»c trá»±c tuyáº¿n
- ChÆ°a há»— trá»£ Ä‘a ngÃ´n ngá»¯ (chá»‰ tiáº¿ng Viá»‡t vÃ  tiáº¿ng Anh)

## 1.4. Ã nghÄ©a thá»±c tiá»…n

### 1.4.1. Äá»‘i vá»›i ngÆ°á»i dÃ¹ng
- Tiáº¿p cáº­n dá»… dÃ ng cÃ¡c bÃ i táº­p yoga vÃ  thiá»n Ä‘á»‹nh cháº¥t lÆ°á»£ng
- Tiáº¿t kiá»‡m thá»i gian vÃ  chi phÃ­ so vá»›i lá»›p há»c truyá»n thá»‘ng
- Táº­p luyá»‡n linh hoáº¡t theo lá»‹ch trÃ¬nh cÃ¡ nhÃ¢n
- Nháº­n Ä‘Æ°á»£c chÆ°Æ¡ng trÃ¬nh táº­p luyá»‡n phÃ¹ há»£p vá»›i thá»ƒ tráº¡ng vÃ  má»¥c tiÃªu

### 1.4.2. Äá»‘i vá»›i sinh viÃªn
- Ãp dá»¥ng kiáº¿n thá»©c vá» phÃ¡t triá»ƒn á»©ng dá»¥ng Ä‘a ná»n táº£ng
- LÃ m quen vá»›i quy trÃ¬nh phÃ¡t triá»ƒn pháº§n má»m thá»±c táº¿
- NÃ¢ng cao ká»¹ nÄƒng láº­p trÃ¬nh React Native, TypeScript
- Há»c cÃ¡ch tÃ­ch há»£p cÃ¡c dá»‹ch vá»¥ cloud (Firebase, AI)

---

# CHÆ¯Æ NG 2: CÆ  Sá» LÃ THUYáº¾T

## 2.1. React Native

### 2.1.1. Giá»›i thiá»‡u
React Native lÃ  framework phÃ¡t triá»ƒn á»©ng dá»¥ng di Ä‘á»™ng Ä‘a ná»n táº£ng Ä‘Æ°á»£c Facebook (Meta) phÃ¡t triá»ƒn nÄƒm 2015. React Native cho phÃ©p láº­p trÃ¬nh viÃªn sá»­ dá»¥ng JavaScript vÃ  React Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng native cho iOS vÃ  Android.

### 2.1.2. Æ¯u Ä‘iá»ƒm
- **Cross-platform:** Má»™t codebase cho cáº£ iOS vÃ  Android
- **Performance:** Hiá»‡u nÄƒng gáº§n nhÆ° native app
- **Hot Reload:** Cáº­p nháº­t code ngay láº­p tá»©c khÃ´ng cáº§n build láº¡i
- **Community:** Cá»™ng Ä‘á»“ng lá»›n, nhiá»u thÆ° viá»‡n há»— trá»£
- **Reusable Components:** TÃ¡i sá»­ dá»¥ng component dá»… dÃ ng

### 2.1.3. Kiáº¿n trÃºc
React Native sá»­ dá»¥ng kiáº¿n trÃºc bridge Ä‘á»ƒ káº¿t ná»‘i JavaScript vá»›i native code:
- **JavaScript Thread:** Cháº¡y business logic
- **Native Thread:** Xá»­ lÃ½ UI vÃ  native modules
- **Bridge:** Giao tiáº¿p giá»¯a JS vÃ  Native (báº¥t Ä‘á»“ng bá»™)

## 2.2. Expo

### 2.2.1. Giá»›i thiá»‡u
Expo lÃ  bá»™ cÃ´ng cá»¥ vÃ  dá»‹ch vá»¥ Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn React Native, giÃºp Ä‘Æ¡n giáº£n hÃ³a quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, build vÃ  deploy á»©ng dá»¥ng.

### 2.2.2. TÃ­nh nÄƒng chÃ­nh
- **Expo Go:** Test app trÃªn thiáº¿t bá»‹ tháº­t khÃ´ng cáº§n build
- **EAS Build:** Dá»‹ch vá»¥ build cloud
- **Expo SDK:** Bá»™ thÆ° viá»‡n native modules sáºµn cÃ³
- **OTA Updates:** Cáº­p nháº­t á»©ng dá»¥ng qua máº¡ng

### 2.2.3. Expo SDK sá»­ dá»¥ng trong dá»± Ã¡n
- `expo-av`: PhÃ¡t audio/video
- `expo-notifications`: ThÃ´ng bÃ¡o push
- `expo-image-picker`: Chá»n áº£nh tá»« thÆ° viá»‡n
- `expo-linear-gradient`: Hiá»‡u á»©ng gradient
- `expo-blur`: Hiá»‡u á»©ng lÃ m má»
- `expo-haptics`: Pháº£n há»“i rung

## 2.3. TypeScript

### 2.3.1. Giá»›i thiá»‡u
TypeScript lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh mÃ£ nguá»“n má»Ÿ Ä‘Æ°á»£c Microsoft phÃ¡t triá»ƒn, má»Ÿ rá»™ng JavaScript báº±ng cÃ¡ch thÃªm kiá»ƒu dá»¯ liá»‡u tÄ©nh (static typing).

### 2.3.2. Lá»£i Ã­ch
- **Type Safety:** PhÃ¡t hiá»‡n lá»—i sá»›m trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn
- **IntelliSense:** Há»— trá»£ autocomplete tá»‘t hÆ¡n
- **Refactoring:** Dá»… dÃ ng refactor code
- **Documentation:** Code tá»± document thÃ´ng qua types

### 2.3.3. VÃ­ dá»¥ trong dá»± Ã¡n
```typescript
export interface Workout {
  id: string;
  title: string;
  description: string;
  type: "Yoga" | "Thiá»n" | "HÃ­t thá»Ÿ";
  durationMinutes: number;
  level: "Beginner" | "Intermediate" | "Advanced";
  thumbnailUrl: ImageSourcePropType;
  videoUrl?: string;
  rating: number;
  reviewCount: number;
}
```

## 2.4. State Management - Zustand

### 2.4.1. Giá»›i thiá»‡u
Zustand lÃ  thÆ° viá»‡n quáº£n lÃ½ state nháº¹ vÃ  Ä‘Æ¡n giáº£n cho React/React Native, Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Poimandres.

### 2.4.2. So sÃ¡nh vá»›i Redux
| TiÃªu chÃ­ | Zustand | Redux |
|----------|---------|-------|
| Boilerplate | Ãt | Nhiá»u |
| Learning curve | Tháº¥p | Cao |
| Bundle size | ~1KB | ~10KB |
| TypeScript | Tá»‘t | Tá»‘t |

### 2.4.3. VÃ­ dá»¥ store trong dá»± Ã¡n
```typescript
interface UserStore {
  user: UserProfile | null;
  setUser: (user: UserProfile | null) => void;
  updateProfile: (updates: Partial<UserProfile>) => void;
}

export const useUserStore = create<UserStore>((set) => ({
  user: null,
  setUser: (user) => set({ user }),
  updateProfile: (updates) => 
    set((state) => ({ 
      user: state.user ? { ...state.user, ...updates } : null 
    })),
}));
```

## 2.5. Firebase

### 2.5.1. Firebase Authentication
Firebase Authentication cung cáº¥p dá»‹ch vá»¥ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vá»›i nhiá»u phÆ°Æ¡ng thá»©c:
- Email/Password
- Google Sign-In
- Facebook Login
- Phone Authentication

### 2.5.2. Cloud Firestore
Firestore lÃ  NoSQL database theo thá»i gian thá»±c, lÆ°u trá»¯ dá»¯ liá»‡u dáº¡ng document-collection.

**Cáº¥u trÃºc dá»¯ liá»‡u trong dá»± Ã¡n:**
```
users/
  {userId}/
    - email
    - displayName
    - photoURL
    - onboarding: {...}
    - stats: {...}
    - healthProfile: {...}

moods/
  {moodId}/
    - userId
    - mood
    - createdAt
```

## 2.6. Google Generative AI

### 2.6.1. Giá»›i thiá»‡u
Google Generative AI (Gemini API) lÃ  dá»‹ch vá»¥ AI cá»§a Google, cung cáº¥p kháº£ nÄƒng táº¡o ná»™i dung, phÃ¢n tÃ­ch vÃ  gá»£i Ã½ thÃ´ng minh.

### 2.6.2. á»¨ng dá»¥ng trong dá»± Ã¡n
- PhÃ¢n tÃ­ch há»“ sÆ¡ sá»©c khá»e ngÆ°á»i dÃ¹ng
- Táº¡o káº¿ hoáº¡ch táº­p luyá»‡n cÃ¡ nhÃ¢n hÃ³a
- Gá»£i Ã½ bÃ i táº­p phÃ¹ há»£p vá»›i má»¥c tiÃªu vÃ  thá»ƒ tráº¡ng
- Táº¡o lá»i khuyÃªn dinh dÆ°á»¡ng vÃ  lá»‘i sá»‘ng

## 2.7. React Navigation

### 2.7.1. CÃ¡c loáº¡i Navigator
- **Stack Navigator:** Äiá»u hÆ°á»›ng theo stack (push/pop)
- **Bottom Tab Navigator:** Tab bar á»Ÿ dÆ°á»›i mÃ n hÃ¬nh
- **Drawer Navigator:** Menu trÆ°á»£t tá»« bÃªn

### 2.7.2. Cáº¥u trÃºc navigation trong dá»± Ã¡n
```
AppNavigator
â”œâ”€â”€ AuthStack (khi chÆ°a Ä‘Äƒng nháº­p)
â”‚   â”œâ”€â”€ LoginScreen
â”‚   â””â”€â”€ SignupScreen
â””â”€â”€ MainTabs (sau khi Ä‘Äƒng nháº­p)
    â”œâ”€â”€ HomeStack
    â”œâ”€â”€ ProgressStack
    â””â”€â”€ ProfileStack
```

---

# CHÆ¯Æ NG 3: PHÃ‚N TÃCH & THIáº¾T Káº¾

## 3.1. PhÃ¢n tÃ­ch yÃªu cáº§u

### 3.1.1. YÃªu cáº§u chá»©c nÄƒng

**FR1: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng**
- FR1.1: ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
- FR1.2: ÄÄƒng nháº­p vÃ o há»‡ thá»‘ng
- FR1.3: ÄÄƒng xuáº¥t
- FR1.4: QuÃªn máº­t kháº©u
- FR1.5: Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n

**FR2: Onboarding**
- FR2.1: Chá»n má»¥c tiÃªu táº­p luyá»‡n
- FR2.2: Chá»n trÃ¬nh Ä‘á»™
- FR2.3: Chá»n thá»i lÆ°á»£ng táº­p hÃ ng ngÃ y

**FR3: Quáº£n lÃ½ bÃ i táº­p**
- FR3.1: Xem danh sÃ¡ch bÃ i táº­p
- FR3.2: TÃ¬m kiáº¿m bÃ i táº­p
- FR3.3: Lá»c theo danh má»¥c/Ä‘á»™ khÃ³
- FR3.4: Xem chi tiáº¿t bÃ i táº­p
- FR3.5: PhÃ¡t video hÆ°á»›ng dáº«n
- FR3.6: ThÃªm/xÃ³a yÃªu thÃ­ch

**FR4: Thiá»n Ä‘á»‹nh**
- FR4.1: Bá»™ Ä‘áº¿m thá»i gian thiá»n
- FR4.2: HÆ°á»›ng dáº«n hÃ´ háº¥p
- FR4.3: PhÃ¡t Ã¢m thanh thiÃªn nhiÃªn

**FR5: Theo dÃµi tiáº¿n Ä‘á»™**
- FR5.1: Ghi nháº­n hoÃ n thÃ nh bÃ i táº­p
- FR5.2: Xem thá»‘ng kÃª (thá»i gian, sá»‘ buá»•i)
- FR5.3: Theo dÃµi streak
- FR5.4: Biá»ƒu Ä‘á»“ tiáº¿n Ä‘á»™

**FR6: CÃ¡ nhÃ¢n hÃ³a**
- FR6.1: Nháº­p há»“ sÆ¡ sá»©c khá»e
- FR6.2: Táº¡o káº¿ hoáº¡ch cÃ¡ nhÃ¢n hÃ³a báº±ng AI
- FR6.3: Gá»£i Ã½ bÃ i táº­p phÃ¹ há»£p

**FR7: Nháº­t kÃ½ tÃ¢m tráº¡ng**
- FR7.1: Ghi nháº­n tÃ¢m tráº¡ng hÃ ng ngÃ y
- FR7.2: Xem lá»‹ch sá»­ tÃ¢m tráº¡ng
- FR7.3: Thá»‘ng kÃª tÃ¢m tráº¡ng

**FR8: ThÃ´ng bÃ¡o**
- FR8.1: Äáº·t lá»‹ch nháº¯c nhá»Ÿ táº­p luyá»‡n
- FR8.2: Nháº­n thÃ´ng bÃ¡o Ä‘á»™ng viÃªn
- FR8.3: Nháº¯c nhá»Ÿ streak

### 3.1.2. YÃªu cáº§u phi chá»©c nÄƒng

**NFR1: Hiá»‡u nÄƒng**
- Thá»i gian khá»Ÿi Ä‘á»™ng app < 3 giÃ¢y
- Thá»i gian chuyá»ƒn mÃ n hÃ¬nh < 300ms
- Video phÃ¡t mÆ°á»£t mÃ  (60fps)

**NFR2: Kháº£ nÄƒng sá»­ dá»¥ng**
- Giao diá»‡n trá»±c quan, dá»… sá»­ dá»¥ng
- Há»— trá»£ Dark Mode
- Responsive trÃªn nhiá»u kÃ­ch thÆ°á»›c mÃ n hÃ¬nh

**NFR3: Báº£o máº­t**
- MÃ£ hÃ³a máº­t kháº©u
- XÃ¡c thá»±c an toÃ n qua Firebase
- Báº£o vá»‡ dá»¯ liá»‡u cÃ¡ nhÃ¢n

**NFR4: TÆ°Æ¡ng thÃ­ch**
- Android 8.0 trá»Ÿ lÃªn
- iOS 13.0 trá»Ÿ lÃªn
- Há»— trá»£ mÃ n hÃ¬nh tá»« 4.7" Ä‘áº¿n 6.7"

## 3.2. Use Case Diagram

### 3.2.1. Actors
- **NgÆ°á»i dÃ¹ng chÆ°a Ä‘Äƒng nháº­p:** CÃ³ thá»ƒ Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p
- **NgÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p:** Sá»­ dá»¥ng Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng

### 3.2.2. Use Cases chÃ­nh
```
[NgÆ°á»i dÃ¹ng]
    |
    |-- ÄÄƒng kÃ½
    |-- ÄÄƒng nháº­p
    |-- HoÃ n thÃ nh Onboarding
    |-- Xem danh sÃ¡ch bÃ i táº­p
    |-- PhÃ¡t video bÃ i táº­p
    |-- Sá»­ dá»¥ng bá»™ Ä‘áº¿m thiá»n
    |-- Ghi nháº­n tÃ¢m tráº¡ng
    |-- Táº¡o káº¿ hoáº¡ch cÃ¡ nhÃ¢n hÃ³a
    |-- Xem tiáº¿n Ä‘á»™
    |-- Cáº­p nháº­t há»“ sÆ¡
    |-- Äáº·t nháº¯c nhá»Ÿ
```

## 3.3. Thiáº¿t káº¿ kiáº¿n trÃºc

### 3.3.1. Kiáº¿n trÃºc tá»•ng thá»ƒ
á»¨ng dá»¥ng sá»­ dá»¥ng kiáº¿n trÃºc **Component-Based Architecture** káº¿t há»£p vá»›i **Feature-Based Folder Structure**.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Presentation Layer             â”‚
â”‚  (Screens, Components, Navigation)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Business Logic Layer           â”‚
â”‚    (Hooks, Services, Utilities)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Data Layer                     â”‚
â”‚  (Zustand Stores, Firebase, API)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3.2. Cáº¥u trÃºc thÆ° má»¥c
```
src/
â”œâ”€â”€ components/          # Reusable components
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Card.tsx
â”‚       â”œâ”€â”€ Input.tsx
â”‚       â””â”€â”€ ...
â”œâ”€â”€ screens/            # MÃ n hÃ¬nh theo feature
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ onboarding/
â”‚   â”œâ”€â”€ home/
â”‚   â”œâ”€â”€ workout/
â”‚   â”œâ”€â”€ profile/
â”‚   â””â”€â”€ progress/
â”œâ”€â”€ navigation/         # Navigation config
â”‚   â”œâ”€â”€ AppNavigator.tsx
â”‚   â”œâ”€â”€ AuthNavigator.tsx
â”‚   â””â”€â”€ MainNavigator.tsx
â”œâ”€â”€ services/          # External services
â”‚   â”œâ”€â”€ firebase/
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ firestore.ts
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â””â”€â”€ gemini.ts
â”‚   â””â”€â”€ notifications.ts
â”œâ”€â”€ store/             # State management
â”‚   â”œâ”€â”€ userStore.ts
â”‚   â”œâ”€â”€ workoutStore.ts
â”‚   â””â”€â”€ progressStore.ts
â”œâ”€â”€ hooks/             # Custom hooks
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â””â”€â”€ useWorkouts.ts
â”œâ”€â”€ types/             # TypeScript types
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ constants/         # Constants
â”‚   â”œâ”€â”€ colors.ts
â”‚   â””â”€â”€ fonts.ts
â”œâ”€â”€ data/              # Static data
â”‚   â””â”€â”€ workouts.ts
â””â”€â”€ utils/             # Utilities
    â””â”€â”€ helpers.ts
```

## 3.4. Thiáº¿t káº¿ Database

### 3.4.1. Firebase Authentication
LÆ°u trá»¯ thÃ´ng tin xÃ¡c thá»±c ngÆ°á»i dÃ¹ng (email, password hash, UID).

### 3.4.2. Cloud Firestore Schema

**Collection: users**
```javascript
{
  uid: "user123",
  email: "user@example.com",
  displayName: "Nguyá»…n VÄƒn A",
  photoURL: "https://...",
  onboarding: {
    completed: true,
    goal: "Giáº£m stress",
    level: "Beginner",
    dailyDuration: 15
  },
  stats: {
    totalMinutes: 450,
    totalSessions: 30,
    currentStreak: 7
  },
  healthProfile: {
    weight: 65,
    height: 170,
    age: 25,
    gender: "male",
    goal: "flexibility",
    activityLevel: "moderate"
  },
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

**Collection: moods**
```javascript
{
  id: "mood123",
  userId: "user123",
  mood: "good",
  note: "Cáº£m tháº¥y thoáº£i mÃ¡i sau buá»•i táº­p",
  createdAt: Timestamp
}
```

**Collection: workoutHistory**
```javascript
{
  id: "history123",
  userId: "user123",
  workoutId: "workout456",
  duration: 20,
  completedAt: Timestamp,
  caloriesBurned: 150
}
```

## 3.5. Thiáº¿t káº¿ giao diá»‡n

### 3.5.1. Design System

**Color Palette:**
```typescript
const colors = {
  primary: '#6B4EFF',
  secondary: '#FF6B9D',
  background: '#FFFFFF',
  backgroundDark: '#1A1A2E',
  text: '#2D3436',
  textDark: '#FFFFFF',
  success: '#00B894',
  error: '#FF7675',
  warning: '#FDCB6E',
};
```

**Typography:**
- Heading 1: 32px, Bold
- Heading 2: 24px, SemiBold
- Heading 3: 20px, SemiBold
- Body: 16px, Regular
- Caption: 14px, Regular

**Spacing Scale:**
- xs: 4px
- sm: 8px
- md: 16px
- lg: 24px
- xl: 32px

### 3.5.2. Wireframes chÃ­nh

**1. Login Screen:**
- Logo á»Ÿ trÃªn
- Input email
- Input password
- Button "ÄÄƒng nháº­p"
- Link "ChÆ°a cÃ³ tÃ i khoáº£n?"

**2. Home Screen:**
- Welcome header vá»›i avatar
- Daily quote card
- Category chips (Yoga, Thiá»n, HÃ­t thá»Ÿ)
- Workout list (scroll vertical)
- Bottom tab navigation

**3. Workout Detail:**
- Thumbnail image lá»›n
- Title, duration, level
- Description
- Benefits list
- Button "Báº¯t Ä‘áº§u"
- Button "YÃªu thÃ­ch"

**4. Profile Screen:**
- Avatar vÃ  tÃªn
- Stats cards (Tá»•ng phÃºt, Buá»•i táº­p, Streak)
- Menu items (Há»“ sÆ¡ sá»©c khá»e, YÃªu thÃ­ch, Nháº¯c nhá»Ÿ, CÃ i Ä‘áº·t)
- Dark mode toggle
- Logout button

---

# CHÆ¯Æ NG 4: TRIá»‚N KHAI

## 4.1. MÃ´i trÆ°á»ng phÃ¡t triá»ƒn

### 4.1.1. CÃ´ng cá»¥ vÃ  pháº§n má»m
- **IDE:** Visual Studio Code
- **Node.js:** v18.x LTS
- **Package Manager:** npm
- **Version Control:** Git
- **Testing Device:** Android Emulator / Physical device

### 4.1.2. CÃ i Ä‘áº·t dá»± Ã¡n
```bash
# Clone repository
git clone <repository-url>

# Install dependencies
cd yoga-meditation-app
npm install

# Start development server
npm start
```

### 4.1.3. Cáº¥u hÃ¬nh Firebase
1. Táº¡o project trÃªn Firebase Console
2. ThÃªm Android/iOS app
3. Download `google-services.json`
4. Cáº¥u hÃ¬nh trong `app.json`
5. Setup Firebase Authentication vÃ  Firestore

## 4.2. Triá»ƒn khai cÃ¡c module chÃ­nh

### 4.2.1. Authentication Module

**File: `src/services/firebase/auth.ts`**
```typescript
import { 
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut as firebaseSignOut
} from 'firebase/auth';
import { auth } from './config';

export const signUp = async (email: string, password: string) => {
  const userCredential = await createUserWithEmailAndPassword(
    auth, 
    email, 
    password
  );
  return userCredential.user;
};

export const signIn = async (email: string, password: string) => {
  const userCredential = await signInWithEmailAndPassword(
    auth,
    email,
    password
  );
  return userCredential.user;
};

export const signOut = async () => {
  await firebaseSignOut(auth);
};
```

**File: `src/screens/auth/LoginScreen.tsx`**
- Sá»­ dá»¥ng React Hook Form Ä‘á»ƒ quáº£n lÃ½ form
- Validation vá»›i Zod schema
- Hiá»ƒn thá»‹ loading state khi Ä‘Äƒng nháº­p
- Xá»­ lÃ½ lá»—i vÃ  hiá»ƒn thá»‹ thÃ´ng bÃ¡o

### 4.2.2. Navigation Module

**File: `src/navigation/AppNavigator.tsx`**
```typescript
export default function AppNavigator() {
  const { user } = useUserStore();

  return (
    <NavigationContainer>
      {user ? <MainNavigator /> : <AuthNavigator />}
    </NavigationContainer>
  );
}
```

**Giáº£i thÃ­ch:**
- Kiá»ƒm tra tráº¡ng thÃ¡i Ä‘Äƒng nháº­p tá»« Zustand store
- Hiá»ƒn thá»‹ AuthNavigator náº¿u chÆ°a Ä‘Äƒng nháº­p
- Hiá»ƒn thá»‹ MainNavigator (Bottom Tabs) náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p

### 4.2.3. Workout Module

**File: `src/screens/workout/WorkoutDetailScreen.tsx`**

CÃ¡c tÃ­nh nÄƒng chÃ­nh:
- Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t bÃ i táº­p
- Thumbnail image vá»›i gradient overlay
- Duration, level, rating
- Description vÃ  benefits
- Button "Báº¯t Ä‘áº§u" navigate Ä‘áº¿n WorkoutPlayerScreen
- Icon yÃªu thÃ­ch (toggle add/remove)

**File: `src/screens/workout/WorkoutPlayerScreen.tsx`**

Sá»­ dá»¥ng `expo-video` Ä‘á»ƒ phÃ¡t video:
```typescript
import { VideoView, useVideoPlayer } from 'expo-video';

const player = useVideoPlayer(videoSource, player => {
  player.loop = false;
  player.play();
});

return (
  <VideoView
    player={player}
    style={styles.video}
    allowsFullscreen
    allowsPictureInPicture
  />
);
```

### 4.2.4. AI Personalization Module

**File: `src/services/ai/gemini.ts`**
```typescript
import { GoogleGenerativeAI } from '@google/generative-ai';

const genAI = new GoogleGenerativeAI(API_KEY);

export async function generatePersonalizedPlan(
  healthProfile: HealthProfile
) {
  const model = genAI.getGenerativeModel({ 
    model: 'gemini-pro' 
  });

  const prompt = `
    Táº¡o káº¿ hoáº¡ch táº­p yoga cÃ¡ nhÃ¢n hÃ³a cho:
    - Tuá»•i: ${healthProfile.age}
    - Giá»›i tÃ­nh: ${healthProfile.gender}
    - CÃ¢n náº·ng: ${healthProfile.weight}kg
    - Chiá»u cao: ${healthProfile.height}cm
    - Má»¥c tiÃªu: ${healthProfile.goal}
    - Má»©c Ä‘á»™ hoáº¡t Ä‘á»™ng: ${healthProfile.activityLevel}
  `;

  const result = await model.generateContent(prompt);
  return result.response.text();
}
```

### 4.2.5. Notification Module

**File: `src/services/notifications.ts`**

CÃ¡c chá»©c nÄƒng:
- Request permission
- Schedule local notifications
- Handle notification received
- Cancel notifications

```typescript
import * as Notifications from 'expo-notifications';

export async function scheduleWorkoutReminder(
  hour: number,
  minute: number
) {
  await Notifications.scheduleNotificationAsync({
    content: {
      title: "ÄÃ£ Ä‘áº¿n giá» táº­p! ğŸ§˜â€â™€ï¸",
      body: "HÃ£y dÃ nh 15 phÃºt cho báº£n thÃ¢n nhÃ©!",
    },
    trigger: {
      hour,
      minute,
      repeats: true,
    },
  });
}
```

### 4.2.6. Progress Tracking Module

**File: `src/screens/progress/ProgressScreen.tsx`**

Sá»­ dá»¥ng `react-native-chart-kit` Ä‘á»ƒ hiá»ƒn thá»‹ biá»ƒu Ä‘á»“:
```typescript
import { LineChart } from 'react-native-chart-kit';

<LineChart
  data={{
    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
    datasets: [{ data: [20, 45, 28, 80, 99, 43, 50] }]
  }}
  width={screenWidth}
  height={220}
  chartConfig={chartConfig}
/>
```

## 4.3. Ká»¹ thuáº­t nÃ¢ng cao

### 4.3.1. Animation vá»›i Moti
```typescript
import { MotiView } from 'moti';

<MotiView
  from={{ opacity: 0, scale: 0.5 }}
  animate={{ opacity: 1, scale: 1 }}
  transition={{ type: 'timing', duration: 500 }}
>
  <Text>Animated Content</Text>
</MotiView>
```

### 4.3.2. Dark Mode Implementation
```typescript
// userStore.ts
interface UserStore {
  isDarkMode: boolean;
  toggleDarkMode: () => void;
}

// Usage in components
const { isDarkMode } = useUserStore();
const backgroundColor = isDarkMode 
  ? colors.backgroundDark 
  : colors.background;
```

### 4.3.3. Data Persistence vá»›i AsyncStorage
```typescript
import AsyncStorage from '@react-native-async-storage/async-storage';

// Save data
await AsyncStorage.setItem('user', JSON.stringify(userData));

// Load data
const userData = await AsyncStorage.getItem('user');
const user = userData ? JSON.parse(userData) : null;
```

---

# CHÆ¯Æ NG 5: TESTING & ÄÃNH GIÃ

## 5.1. Káº¿ hoáº¡ch Testing

### 5.1.1. Unit Testing
- Test cÃ¡c utility functions
- Test custom hooks
- Test store actions

### 5.1.2. Integration Testing
- Test navigation flow
- Test Firebase integration
- Test API calls

### 5.1.3. Manual Testing
- Test trÃªn Android emulator
- Test trÃªn thiáº¿t bá»‹ tháº­t
- Test cÃ¡c edge cases

## 5.2. Test Cases

### TC1: ÄÄƒng kÃ½ tÃ i khoáº£n
- **Input:** Email há»£p lá»‡, password >= 6 kÃ½ tá»±
- **Expected:** Táº¡o tÃ i khoáº£n thÃ nh cÃ´ng, navigate Ä‘áº¿n onboarding
- **Result:** âœ… Pass

### TC2: ÄÄƒng nháº­p
- **Input:** Email vÃ  password Ä‘Ãºng
- **Expected:** ÄÄƒng nháº­p thÃ nh cÃ´ng, navigate Ä‘áº¿n Home
- **Result:** âœ… Pass

### TC3: PhÃ¡t video bÃ i táº­p
- **Input:** Chá»n workout, click "Báº¯t Ä‘áº§u"
- **Expected:** Video phÃ¡t mÆ°á»£t mÃ , hiá»ƒn thá»‹ controls
- **Result:** âœ… Pass

### TC4: Táº¡o káº¿ hoáº¡ch cÃ¡ nhÃ¢n hÃ³a
- **Input:** Nháº­p Ä‘áº§y Ä‘á»§ health profile
- **Expected:** AI táº¡o plan phÃ¹ há»£p trong < 10s
- **Result:** âœ… Pass

### TC5: Dark Mode
- **Input:** Toggle dark mode switch
- **Expected:** ToÃ n bá»™ app chuyá»ƒn sang dark theme
- **Result:** âœ… Pass

## 5.3. Performance Testing

### 5.3.1. Káº¿t quáº£ Ä‘o
- **App launch time:** 2.1s (âœ… < 3s)
- **Screen transition:** 250ms (âœ… < 300ms)
- **Video playback:** 60fps (âœ…)
- **Memory usage:** ~150MB (âœ… acceptable)

### 5.3.2. Optimization
- Sá»­ dá»¥ng `React.memo` cho components
- Lazy loading cho screens
- Image optimization vá»›i `expo-image`
- Debounce cho search input

## 5.4. User Feedback

Kháº£o sÃ¡t 10 ngÆ°á»i dÃ¹ng thá»­ nghiá»‡m:
- **Giao diá»‡n:** 9/10 Ä‘Ã¡nh giÃ¡ Ä‘áº¹p vÃ  dá»… sá»­ dá»¥ng
- **Hiá»‡u nÄƒng:** 8.5/10 Ä‘Ã¡nh giÃ¡ mÆ°á»£t mÃ 
- **TÃ­nh nÄƒng:** 9/10 hÃ i lÃ²ng vá»›i cÃ¡c tÃ­nh nÄƒng
- **Äá» xuáº¥t:** ThÃªm tÃ­nh nÄƒng offline, nhiá»u ngÃ´n ngá»¯ hÆ¡n

---

# CHÆ¯Æ NG 6: Káº¾T LUáº¬N

## 6.1. Tá»•ng káº¿t

Äá»“ Ã¡n Ä‘Ã£ hoÃ n thÃ nh má»¥c tiÃªu xÃ¢y dá»±ng á»©ng dá»¥ng Yoga & Meditation Ä‘a ná»n táº£ng vá»›i Ä‘áº§y Ä‘á»§ cÃ¡c tÃ­nh nÄƒng cÆ¡ báº£n vÃ  nÃ¢ng cao. á»¨ng dá»¥ng Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng React Native vÃ  Expo, tÃ­ch há»£p Firebase cho authentication vÃ  database, sá»­ dá»¥ng Google Generative AI Ä‘á»ƒ cÃ¡ nhÃ¢n hÃ³a tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng.

## 6.2. Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c

### 6.2.1. Vá» máº·t ká»¹ thuáº­t
âœ… XÃ¢y dá»±ng thÃ nh cÃ´ng á»©ng dá»¥ng Ä‘a ná»n táº£ng (Android/iOS)  
âœ… TÃ­ch há»£p Firebase Authentication vÃ  Firestore  
âœ… Triá»ƒn khai AI personalization vá»›i Gemini API  
âœ… Implement animations mÆ°á»£t mÃ  vá»›i Moti  
âœ… Há»— trá»£ Dark Mode  
âœ… Push notifications hoáº¡t Ä‘á»™ng tá»‘t  
âœ… Performance Ä‘áº¡t yÃªu cáº§u  

### 6.2.2. Vá» máº·t chá»©c nÄƒng
âœ… 30+ mÃ n hÃ¬nh hoÃ n chá»‰nh  
âœ… Authentication flow hoÃ n chá»‰nh  
âœ… Workout library vá»›i video player  
âœ… Meditation timer vÃ  breathing guide  
âœ… Progress tracking vá»›i charts  
âœ… Mood journal  
âœ… Personalized workout plan  

### 6.2.3. Vá» máº·t há»c táº­p
âœ… Náº¯m vá»¯ng React Native vÃ  Expo  
âœ… ThÃ nh tháº¡o TypeScript  
âœ… Hiá»ƒu rÃµ vá» State Management (Zustand)  
âœ… Biáº¿t cÃ¡ch tÃ­ch há»£p Firebase  
âœ… LÃ m quen vá»›i AI integration  
âœ… Ãp dá»¥ng UI/UX best practices  

## 6.3. Háº¡n cháº¿

âŒ ChÆ°a há»— trá»£ offline mode hoÃ n toÃ n  
âŒ ChÆ°a cÃ³ tÃ­nh nÄƒng thanh toÃ¡n  
âŒ ChÆ°a há»— trá»£ nhiá»u ngÃ´n ngá»¯  
âŒ ChÆ°a cÃ³ social features (share, community)  
âŒ Video content cÃ²n háº¡n cháº¿  

## 6.4. HÆ°á»›ng phÃ¡t triá»ƒn

### 6.4.1. Ngáº¯n háº¡n (1-3 thÃ¡ng)
- ThÃªm offline mode vá»›i local storage
- TÄƒng sá»‘ lÆ°á»£ng video bÃ i táº­p
- ThÃªm tÃ­nh nÄƒng chia sáº» lÃªn social media
- Cáº£i thiá»‡n AI recommendations

### 6.4.2. Trung háº¡n (3-6 thÃ¡ng)
- TÃ­ch há»£p thanh toÃ¡n cho premium features
- ThÃªm livestream classes
- Community features (forum, challenges)
- Multi-language support

### 6.4.3. DÃ i háº¡n (6-12 thÃ¡ng)
- Wearable device integration (Apple Watch, Fitbit)
- AR/VR yoga experiences
- Personalized nutrition plans
- Instructor marketplace

## 6.5. BÃ i há»c kinh nghiá»‡m

1. **Planning is crucial:** Thiáº¿t káº¿ ká»¹ trÆ°á»›c khi code giÃºp tiáº¿t kiá»‡m thá»i gian
2. **TypeScript is worth it:** Type safety giÃºp phÃ¡t hiá»‡n lá»—i sá»›m
3. **State management matters:** Zustand Ä‘Æ¡n giáº£n nhÆ°ng hiá»‡u quáº£
4. **Testing early:** Test sá»›m giÃºp phÃ¡t hiá»‡n bug ká»‹p thá»i
5. **User feedback:** Láº¯ng nghe ngÆ°á»i dÃ¹ng Ä‘á»ƒ cáº£i thiá»‡n sáº£n pháº©m

---

# TÃ€I LIá»†U THAM KHáº¢O

## SÃ¡ch vÃ  tÃ i liá»‡u

1. **React Native Documentation** - https://reactnative.dev/docs/getting-started
2. **Expo Documentation** - https://docs.expo.dev/
3. **TypeScript Handbook** - https://www.typescriptlang.org/docs/
4. **Firebase Documentation** - https://firebase.google.com/docs
5. **React Navigation** - https://reactnavigation.org/docs/getting-started

## BÃ i viáº¿t vÃ  tutorials

6. **React Native Best Practices** - Medium
7. **State Management in React Native** - LogRocket Blog
8. **Firebase Authentication Tutorial** - Firebase Blog
9. **Expo EAS Build Guide** - Expo Blog
10. **AI Integration in Mobile Apps** - Google AI Blog

## Video courses

11. **React Native - The Practical Guide** - Udemy
12. **Complete React Native Developer** - Zero to Mastery
13. **Firebase for Mobile Development** - YouTube

## ThÆ° viá»‡n vÃ  cÃ´ng cá»¥

14. **Zustand** - https://github.com/pmndrs/zustand
15. **Moti** - https://moti.fyi/
16. **React Hook Form** - https://react-hook-form.com/
17. **Zod** - https://zod.dev/

---

# PHá»¤ Lá»¤C

## Phá»¥ lá»¥c A: Source Code quan trá»ng

### A.1. User Store
```typescript
// src/store/userStore.ts
import { create } from 'zustand';
import AsyncStorage from '@react-native-async-storage/async-storage';

interface UserStore {
  user: UserProfile | null;
  isDarkMode: boolean;
  setUser: (user: UserProfile | null) => void;
  toggleDarkMode: () => void;
  loadUser: () => Promise<void>;
}

export const useUserStore = create<UserStore>((set) => ({
  user: null,
  isDarkMode: false,
  
  setUser: (user) => {
    set({ user });
    if (user) {
      AsyncStorage.setItem('user', JSON.stringify(user));
    } else {
      AsyncStorage.removeItem('user');
    }
  },
  
  toggleDarkMode: () => {
    set((state) => {
      const newMode = !state.isDarkMode;
      AsyncStorage.setItem('darkMode', JSON.stringify(newMode));
      return { isDarkMode: newMode };
    });
  },
  
  loadUser: async () => {
    const userData = await AsyncStorage.getItem('user');
    const darkMode = await AsyncStorage.getItem('darkMode');
    
    if (userData) {
      set({ user: JSON.parse(userData) });
    }
    if (darkMode) {
      set({ isDarkMode: JSON.parse(darkMode) });
    }
  },
}));
```

## Phá»¥ lá»¥c B: Screenshots

*(ÄÃ­nh kÃ¨m screenshots cá»§a cÃ¡c mÃ n hÃ¬nh chÃ­nh)*

1. Splash Screen
2. Login Screen
3. Signup Screen
4. Onboarding Flow
5. Home Screen (Light Mode)
6. Home Screen (Dark Mode)
7. Workout Detail
8. Workout Player
9. Meditation Timer
10. Breathing Guide
11. Soundscapes
12. Mood Journal
13. Personalized Plan
14. Progress Screen
15. Profile Screen

## Phá»¥ lá»¥c C: HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

### C.1. YÃªu cáº§u há»‡ thá»‘ng
- Node.js v18 trá»Ÿ lÃªn
- npm hoáº·c yarn
- Android Studio (cho Android) hoáº·c Xcode (cho iOS)
- Expo Go app trÃªn Ä‘iá»‡n thoáº¡i

### C.2. CÃ¡c bÆ°á»›c cÃ i Ä‘áº·t
```bash
# 1. Clone repository
git clone <repository-url>
cd yoga-meditation-app

# 2. Install dependencies
npm install

# 3. Setup environment variables
# Táº¡o file .env vÃ  thÃªm:
# EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
# EXPO_PUBLIC_GEMINI_API_KEY=your_gemini_key

# 4. Start development server
npm start

# 5. Scan QR code vá»›i Expo Go app
```

## Phá»¥ lá»¥c D: API Documentation

### D.1. Firebase Auth API
- `signUp(email, password)`: ÄÄƒng kÃ½ tÃ i khoáº£n
- `signIn(email, password)`: ÄÄƒng nháº­p
- `signOut()`: ÄÄƒng xuáº¥t
- `resetPassword(email)`: Äáº·t láº¡i máº­t kháº©u

### D.2. Firestore API
- `createUser(uid, data)`: Táº¡o user document
- `updateUser(uid, data)`: Cáº­p nháº­t user
- `getUserProfile(uid)`: Láº¥y thÃ´ng tin user
- `saveMood(userId, mood)`: LÆ°u mood entry
- `getMoodHistory(userId)`: Láº¥y lá»‹ch sá»­ mood

### D.3. Gemini AI API
- `generatePersonalizedPlan(healthProfile)`: Táº¡o workout plan
- `getWorkoutRecommendations(userProfile)`: Gá»£i Ã½ bÃ i táº­p

---

**Káº¾T THÃšC BÃO CÃO**

---

*Sinh viÃªn thá»±c hiá»‡n*

[Chá»¯ kÃ½]

[Há» vÃ  tÃªn]
